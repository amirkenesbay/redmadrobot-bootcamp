# Тестовое задание (Кенесбай Амир)

**Задание:** разработать API на Spring Boot (backend-приложение) для функционирования сервиса доски объявлений о продаже товара, работающего по принципу аукциона

**Функционал доски объявлений:**

1. Доска объявлений в данном случае - это список всех объявлений с фильтрами (варианты фильтров на свое усмотрение), который отображается на главной странице сервиса
2. Есть авторизованная зона - личный кабинет
1. Доступна регистрация (необходимо указать email и пароль)
2. Аутентификация (вход) в личный кабинет по указанным при регистрации email и паролю
3. Email указанный при регистрации используется для связи с пользователем при сделках
3. В личном кабинете пользователь может создать объявление и разместить его на доске объявлений в общем списке
4. При создании объявления нужно указать название, описание, минимальную цену и добавить изображения
5. Объявления имеют 2 статуса - активное и снятое с публикации
6. Пользователь может выбрать объявление в общем списке и выразить намерение купить товар, подняв цену (сделать ставку). Пользователю, сделавшему предыдущую ставку приходит уведомление, что его ставка была перебита. В общем списке в объявлении указана как минимальная, так и текущая цена
7. После того как появился первый покупатель, начинается отсчет времени. По истечении этого времени, пользователь, сделавший последнюю ставку становится покупателем: продавец и покупатель получают уведомления, а объявление снимается с публикации. Время настраивается как параметр
8. Необходимо постараться реализовать функционал ставок так, чтобы при одновременной попытке сделать ставку двумя разными покупателями, не образовывалось не консистентных данных. Кейсы для проверки:
1. минимальная цена 100, Пользователь 1 делает ставку 105, условно одновременно с ним Пользователь 2 делает ставку 105. Реализация гарантирует, что примется ставка только одного пользователя, а второй получит ошибку
2. минимальная цена 100, Пользователь 1 делает ставку 105, условно одновременно с ним Пользователь 2 делает ставку 106. Реализация гарантирует, что примется ставка Пользователя 2. Пользователь 1 получает ошибку, что ставка прошла неуспешно, либо получить уведомление о том, что ставка перебита.

**Требования к реализации:**

1. Для всех методов необходимо спроектировать и реализовать API-методы с документацией на Swagger
2. Использовать инструмент сборки maven или gradle
3. Для реализации использовать Java 17 + Spring Boot
4. Для аутентификации и авторизации необязательно использовать Spring Security, но будет плюсом
5. Приложение должно писать логи
6. Сделать сборку в jar-файл
7. К реализации должна прилагаться инструкция по запуску приложения
8. Исходный код выложить на github.com в публичный репозиторий
9. Для упрощения реализации, вместо реально отправки сообщений на email, можно сделать заглушку, которая пишет текст сообщения в лог

**Дополнительные требования**:

1. Покрыть весь функционал unit-тестами
2. Сделать обертку исходного кода в docker-образ (добавить в корневую директорию файл Dockerfile, docker-compose.yml при необходимости)
3. Для проверки кода дополнительно подключить анализатор кода на выбор

### Иллюстрация swagger документации на основе построенного API:
![Иллюстрация к swagger](https://github.com/amirkenesbay/redmadrobot-bootcamp/blob/master/swagger.png)

### Ссылки:
- Приложение доступно по адресу: http://localhost:8080
- Документация доступна по адресу: http://localhost:8080/swagger-ui/index.html

### Инструкция по запуску: 
**В директории проекта расположены 2 скрипта по запуску приложения:**
- build.sh - Собирает приложение в docker образ
- run.sh - Запускает docker образ (стартует приложение)
